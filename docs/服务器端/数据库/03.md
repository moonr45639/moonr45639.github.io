<h6 align="right">山重水复疑无路，柳暗花明又一村。</h6>



## SQL 语法规则

<br>

> SQL 语法规则是指服务器 DBMS 需要客户端提供指定的规范的代码

<br>

- 语法环境

    <br>

    SQL 执行必须是在客户端和服务器端建立联系（ 登录验证通过进入 MySQL 环境 ）之后才能执行的

    <br>

    因此必须在进入 MySQL 的服务端后客户端才能向服务端发送指令

<br>

- 代码执行

    <br>

    SQL 的执行时服务器自行判定执行，判定的标准是检测到语句结束符

<br>

- SQL 代码是逐行顺序执行的

<br>

- SQL 代码的语句结束符分为

    <br>

    分号

    <br>

    \g（ 与分号相同 ）

    <br>

    \G（ 数据结果以行为单位纵向展示 ）

<br>

- SQL 语句不区分大小写

<br>

- 注释

    <br>

    行注释分为 -- 以及 # 

    <br>

    块注释为 /*  */

<br>

## 查看数据库

<br>

### 查看所有数据库

<br>

查看数据库即系统将已存在的数据库显示出来

<br>

在 sql 操作中可分为两种情况，查看所有数据库以及查看匹配数据库

<br>

查看所有数据库 ：show databases

<br>

~~~sql
mysql> show databases;   -- 查看所有数据库
+--------------------+
| Database           |   -- 名字 ：当前表只有一个字段名
+--------------------+
| information_schema |   -- 第一个数据库
| mysql              |   -- 第二个数据库
| performance_schema |
| sys                |   -- 默认四个数据库
+--------------------+
4 rows in set (0.24 sec) -- 说明 ：四行数据（ 括号内表示用时 ）
~~~

<br>

### 查看部分数据库

<br>

使用匹配方式匹配相似数据库 ：show databases like '  '

<br>

占位符 _ （ 下划线 ）：匹配固定位置的单个字符，_a ，可以是 aa / Aa / sa ，但不能是 aaa

<br>

占位符 % （ 百分号 ）：匹配多个字符， %a ，可以是任何以 a 为结尾的字符

<br>

为了解决实际需求，_ 和 % 可以同时无限制使用

<br>

~~~sql
mysql> show databases like '_a';   -- 下划线匹配

mysql> show databases like '%a';   -- 模糊匹配
~~~

<br>

### 查看数据库创建时使用的指令

<br>

数据库是可以使用指令创建的

<br>

可以使用 show create database 数据库名

<br>

~~~sql
mysql> show create database  myql;   -- 查看创建 mysql 时使用的指令
~~~

<br>

## 创建数据库

<br>

### 创建数据库

<br>

创建数据库即通过对应的 sql 指令实现在数据库服务器中增加对应的数据库信息

<br>

数据库创建成功后会在 MySQL 指定的存放数据的 data 目录下创建一个对应的文件夹

<br>

create database 数据库名

<br>

~~~sql
mysql> create database  my_database;   -- 创建 my_database 数据库

Query OK, 1 row affected ( 0.09 sec )  -- Query OK 表示指令正确执行
~~~

<br>

### 数据库命名规范

<br>

数据库名由字母、数字和下划线组成

<br>

数据库不强制要求数字不能开头（ 但是不建议 ）

<br>

数据库命名应该见名思意

<br>

数据库多单词命名建议使用下划线法

<br>

数据库名字如果使用了 sql 内部的关键字应该使用反引号包裹（ 不建议使用冲突关键字作为名字 ）

<br>

### 指定数据库字符集

<br>

创建数据库时可以使用 charset 关键字指定数据库的字符集

<br>

指定字符集的效果是数据库中的默认数据按照当前字符集存储，但是实际数据存储以更小的字符集为准（ 数据表字符集 ）

<br>

如果不指定字符集，默认使用 DBMS 对应的字符集

<br>

~~~sql
mysql> create database  my_database charset UTF8;   -- 创建数据库时指定 UTF-8 字符集，不允许使用划线
~~~

<br>

### 修改数据库字符集

<br>

修改数据库字符集的目的是为了让数据库中的其他结构（ 数据表 ）能够使用对应的默认字符集

<br>

修改数据库字符集针对的是修改后创建的结构的默认字符集，而不能修改已经存在的数据表对应的字符集

<br>

alter database 数据库名 charset 新的字符集

<br>

~~~sql
mysql> alter database  my_database charset utf8;   -- 将数据库的字符集修改为 UTF-8 字符集

Query OK, 1 row affected ( 0.09 sec )  -- Query OK 表示指令正确执行
~~~

<br>

### 删除数据库

<br>

删除数据库即让数据库在 sql 服务器中不存在

<br>

数据库删除会直接删除数据库中的所有內容并且不可找回，因此操作前一定要慎重

<br>

数据库的删除一次只允许删除一个，不允许同时删除多个数据库

<br>

数据库创建删除后会在 MySQL 指定的存放数据的 data 目录下删除掉对应的文件夹

<br>

drop database 数据库名

<br>

~~~sql
mysql> drop database  my_database;   -- 删除数据库

Query OK, 1 row affected ( 0.09 sec )  -- Query OK 表示指令正确执行
~~~

<br>

## 创建数据表

<br>

### 创建数据表

<br>

创建数据表即在数据库中创建更小的数据存储的结构

<br>

数据表是一个二维结构表不只是有关表自身结构，而且还与字段一体

<br>

表是一种多行结构，因此不建议直接在命令行中输入指令，建议现在文本中写好指令然后复制到命令行中运行

<br>

数据表的操作意味着有数据字段的操作

<br>

数据表时依存于数据库存在的，不能直接在 DBMS 下创建

<br>

创建数据表时要指定在哪个数据库中创建

<br>

创建数据表语法结构

<br>

~~~sql
create table 表名 (

    字段名 字段类型 [ 字段属性 ],  -- 每个字段之间使用逗号隔开

    字段名 字段类型 [ 字段属性 ],  -- 字段属性并非强制要求

    字段名 字段类型 [ 字段属性 ]   -- 最后一个字段不需要逗号

)[ 表选项 ];                     -- 表选项可有可无
~~~

<br>

- 表名 

    <br>

    描述表内数据的关键字，由数字、字母以及下划线组成（ 不建议数字开头 ）

    <br>

    如果使用关键字或保留字作为表名应该使用反引号

    <br>

    表名在同一数据库下不能重复

<br>

- 字段名

    <br>

    二维表列名字

    <br>

    描述该列数据的关键字

    <br>

    同一表下字段名不能重复

<br>

- 字段类型

    <br>

    MySQL 为了方便数据的规范，对每列数据都强制规定数据的类型

<br>

- 表选项

    <br>

    表的额外规范，包括存储引擎（ 默认 InnoDB ）、字符集（ 默认数据库字符集 ）以及校对集（ 默认数据库对应校对集 ）

    <br>

    表选项中的存储引擎以及字符集可以同时存在且没有前后顺序

<br>

### 指定表对应的数据库

<br>

指定表对应的数据库有两种方式

<br>

第一种 ：直接在数据表名前指定数据库

<br>

~~~sql
create table my_database.my_table(  -- 指定数据表 my_table 放在数据库 my_database 下

    name varchar(10),

    age int

);
~~~

<br>

第二种 ：首先进入对应的数据库，之后的操作默认在进入的数据库中操作

<br>

~~~sql
use my_database;            -- 进入 my_database 数据库

create table my_table(

    name varchar(10),

    age int

);
~~~

<br>

创建已经存在的表的同结构表 ：create table 表名 like 数据库名.表名

<br>

~~~sql
create table my_table_new like my_database.my_table
~~~

<br>

或者可以直接复制 Mylsam 结构表的三个文件到其他数据库 ：Mylsam 表是独立空间，可以移动且有效；而 InnoDB 是非独立空间直接移动是无法生效的

<br>

## 查看数据表

<br>

### 查看所有数据表

<br>

数据表的存在是与字段和结构一体的，因此查看表的情况相对来说种类比较多，可以实查看表名也可以是查看表结构

<br>

查看所有数据表 ：show tables（ 进入对应数据库后 ）

<br>

~~~sql
mysql> show tables;
+---------------------------------------+
| Tables_in_information_schema          |
+---------------------------------------+
| ADMINISTRABLE_ROLE_AUTHORIZATIONS     |
| APPLICABLE_ROLES                      |
| VIEW_ROUTINE_USAGE                    |
| VIEW_TABLE_USAGE                      |
| VIEWS                                 |
+---------------------------------------+
5 rows in set (0.07 sec)
~~~

<br>

### 查看部分数据表

<br>

使用匹配方式匹配相似数据库 ：show tables like '  '

<br>

占位符 _ （ 下划线 ）：匹配固定位置的单个字符，_a ，可以是 aa / Aa / sa ，但不能是 aaa

<br>

占位符 % （ 百分号 ）：匹配多个字符， %a ，可以是任何以 a 为结尾的字符

<br>

为了解决实际需求，_ 和 % 可以同时无限制使用

<br>

~~~sql
mysql> show tables like '_a';   -- 下划线匹配

mysql> show tables like '%a';   -- 模糊匹配
~~~

<br>

### 查看表结构

<br>

查看表结构即查看表中所有的字段信息 ：desc（ describe ）表名

<br>

~~~sql
desc my_table;
~~~

<br>

### 查看数据表创建时使用的指令

<br>

数据表创建时可以使用指令创建

<br>

可以使用 show create table 表名 来查看创建时使用的语句

<br>

~~~sql
show create table  my_table;

-- 查询出的创建指令并不是用户创建时使用的指令，而是被系统加工保存的创建语句

-- 这种结构适合使用 \G 来查看，会比较清晰

show create table  my_table \G;
~~~

<br>

## 更新数据表

<br>

